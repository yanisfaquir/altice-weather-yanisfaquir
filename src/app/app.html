<app-main-layout>

  <!-- Dashboard Welcome Card -->
  <app-dashboard-welcome-card
    [totalCities]="totalCities()"
    [totalRecords]="totalRecords()"
    [avgNetworkPower]="avgNetworkPower()">
  </app-dashboard-welcome-card>

  <!-- Buttons -->
  <div class="flex flex-wrap gap-4 mb-8">
    <button (click)="toggleWeatherForm()" [class]="getWeatherFormButtonClass()">
      @if (isWeatherFormActive) {
        <span class="flex items-center">âœ… <span class="ml-2" i18n="@@btn-add-weather-active">Add Weather Data</span></span>
      } @else {
        <span i18n="@@btn-add-weather">ğŸ“Š Add Weather Data</span>
      }
    </button>
    
    <button (click)="toggleCityList()" [class]="getCityListButtonClass()">
      @if (isCityListActive) {
        <span class="flex items-center">âœ… <span class="ml-2" i18n="@@btn-view-cities-active">View Cities</span></span>
      } @else {
        <span i18n="@@btn-view-cities">ğŸ™ï¸ View Cities</span>
      }
    </button>

    <button (click)="toggleSettings()" [class]="getSettingsButtonClass()">
      @if (isSettingsActive) {
        <span class="flex items-center">âœ… <span class="ml-2" i18n="@@btn-settings-active">Settings</span></span>
      } @else {
        <span i18n="@@btn-settings">âš™ï¸ Settings</span>
      }
    </button>
  </div>

  <!-- Views -->
  @if (isCityListActive) { <app-city-list></app-city-list> }
  @if (isWeatherFormActive) { <app-weather-form></app-weather-form> }
  @if (activeView === 'none') {
    <div class="glass rounded-2xl p-8 text-center">
      <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4" i18n="@@ready-to-start">ğŸš€ Ready to Start!</h2>
      <p class="text-gray-600 dark:text-gray-300" i18n="@@choose-option-text">
        Choose an option above to get started:
        <br>
        <strong>Add Weather Data</strong> to collect new information or <strong>View Cities</strong> to see the dashboard.
      </p>
    </div>
  }
  @if (isSettingsActive) { <app-settings-panel></app-settings-panel> }

</app-main-layout>

<router-outlet></router-outlet>
