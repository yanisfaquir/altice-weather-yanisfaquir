<app-main-layout>

  <!-- Dashboard Welcome Card -->
  <app-dashboard-welcome-card
    [totalCities]="totalCities()"
    [totalRecords]="totalRecords()"
    [avgNetworkPower]="avgNetworkPower()">
  </app-dashboard-welcome-card>

  <!-- Buttons -->
  <div class="flex flex-wrap gap-4 mb-8">
    <button (click)="toggleWeatherForm()" [class]="getWeatherFormButtonClass()">
      @if (isWeatherFormActive) {
        <span class="flex items-center"> <span class="ml-2">{{ 'btn.add.weather.active' | translate }}</span></span>
      } @else {
        <span>{{ 'btn.add.weather' | translate }}</span>
      }
    </button>
    
    <button (click)="toggleCityList()" [class]="getCityListButtonClass()">
      @if (isCityListActive) {
        <span class="flex items-center"><span class="ml-2">{{ 'btn.view.cities.active' | translate }}</span></span>
      } @else {
        <span>{{ 'btn.view.cities' | translate }}</span>
      }
    </button>

    <button (click)="toggleSettings()" [class]="getSettingsButtonClass()">
      @if (isSettingsActive) {
        <span class="flex items-center"><span class="ml-2">{{ 'btn.settings.active' | translate }}</span></span>
      } @else {
        <span>{{ 'btn.settings' | translate }}</span>
      }
    </button>
  </div>

  <!-- Views -->
  @if (isCityListActive) { <app-city-list></app-city-list> }
  @if (isWeatherFormActive) { 
    <app-weather-form (dataAdded)="onDataAdded()"></app-weather-form> 
  }
  @if (activeView === 'none') {
    <div class="glass rounded-2xl p-8 text-center">
      <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">{{ 'ready-to-start' | translate }}</h2>
      <p class="text-gray-600 dark:text-gray-300">
        {{ 'choose-option-text-part1' | translate }}
        <br>
        <strong>{{ 'choose-option-text-add-weather' | translate }}</strong> {{ 'choose-option-text-part2' | translate }} <strong>{{ 'choose-option-text-view-cities' | translate }}</strong> {{ 'choose-option-text-part3' | translate }}
      </p>
    </div>
  }
  @if (isSettingsActive) { <app-settings-panel></app-settings-panel> }

</app-main-layout>

<router-outlet></router-outlet>